<html>
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firebase Cloud Messaging Example</title>

  <!-- Material Design Theming -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>

  <!-- <link rel="stylesheet" href="main.css"> -->

  <link rel="manifest" href="./manifest.json">
</head>
<body>
	
<script src="./firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBuvtmXtE6BdFHwuN8I1DNHc0WKXsOmCY8",
    authDomain: "pwa-demo-67a94.firebaseapp.com",
    databaseURL: "https://pwa-demo-67a94.firebaseio.com",
    projectId: "pwa-demo-67a94",
    storageBucket: "pwa-demo-67a94.appspot.com",
    messagingSenderId: "464682765526"
  };
  firebase.initializeApp(config);
  const messaging = firebase.messaging();
  messaging.requestPermission()
.then(function() {
  // console.log('Notification permission granted.');
  return messaging.getToken();
  // TODO(developer): Retrieve an Instance ID token for use with FCM.
  // ...
}).then(function(token){
	console.log(token)
})
.catch(function(err) {
  console.log('Unable to get permission to notify.', err);
});



// messaging.onMessage(function(payload){
// 	console.log('onMessage',payload);
// })
</script>
</body>
</html>